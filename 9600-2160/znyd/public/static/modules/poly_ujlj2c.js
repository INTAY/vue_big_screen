/**/_jsload2&&_jsload2('poly', 'function Lg(a,b){return!a||!b?0:Math.round(Math.sqrt(Math.pow(a.lng-b.lng,2)+Math.pow(a.lat-b.lat,2)))}function Mg(a,b){ib.call(this);this.point=a;this.type=b;this.K={}}z.lang.wa(Mg,ib,"Vertex"); z.extend(Mg.prototype,{initialize:function(a){this.map=a;var b="",b=this.type?"BMap_vectex BMap_vectex_nodeT":"BMap_vectex BMap_vectex_node",c=this.LG=this.ba=document.createElement("div");c.className=b;a.Pf().xO.appendChild(c);this.Sz();return c},draw:function(){var a=this.map.Xe(this.point);this.LG.style.left=a.x-5+"px";this.LG.style.top=a.y-5+"px"},ua:function(a){a instanceof J&&(this.point=this.K.point=new J(a.lng,a.lat),this.draw())},ka:x("point"),Sz:function(){function a(a,b){b.pixel=b.ob=a.ob; b.point=b.point=a.point;return b}function b(a){var b=a.clientX,c=a.clientY;a.changedTouches&&(b=a.changedTouches[0].clientX,c=a.changedTouches[0].clientY);return new R(b,c)}if(this.ba&&!this.ba.Ci){this.ba.Ci=p;var c=this.map,e=this,f=0,g=0,i=0,k={x:0,y:0};this.Zr=function(a){oa(a);if(2!=a.button){e.kl=p;var k=c.Tb(e.point),o=b(a);f=o.x-k.x;g=o.y-k.y;i=eb();e.map.aa.Eu=e;z.V(document,"mousemove",e.Zi);z.V(document,"mouseup",e.Yi);z.V(document,"touchmove",e.Zi);z.V(document,"touchend",e.Yi);e.ba&& e.ba.setCapture&&e.ba.setCapture();e.ba.style.cursor=e.K.Hd;"touchstart"==a.type&&na(a)}};this.Zi=function(i){if(e.kl){i=b(i);k=i=new R(i.x-f,i.y-g);e.oz=i;var n=e.map.Ib(i),o={ob:i,point:n};e.xl=e.yl=0;if(20>=i.x||i.x>=e.map.width-20||50>=i.y||i.y>=e.map.height-10){if(20>=i.x?e.xl=8:i.x>=e.map.width-20&&(e.xl=-8),50>=i.y?e.yl=8:i.y>=e.map.height-10&&(e.yl=-8),!e.Ge)e.Ge=setInterval(function(){c.yg(e.xl,e.yl,{noAnimation:p});var a=c.Ib(e.oz);e.ua(a)},30)}else e.Ge&&(clearInterval(e.Ge),e.Ge=q),e.ua(n); e.cl||(e.dispatchEvent(a(o,new Q("ondragstart"))),e.cl=p);e.dispatchEvent(a(o,new Q("ondragging")))}};this.Yi=function(){e.ba&&e.ba.releaseCapture&&e.ba.releaseCapture();e.kl=t;e.map.aa.Eu=q;z.dd(document,"mousemove",e.Zi);z.dd(document,"mouseup",e.Yi);z.dd(document,"touchmove",e.Zi);z.dd(document,"touchend",e.Yi);f=g=0;e.Ge&&(clearInterval(e.Ge),e.Ge=q);if(100<=eb()-i&&(2<k.x||2<k.y))e.cl=t,e.dispatchEvent(a({ob:e.map.Tb(e.ka()),point:e.ka()},new Q("ondragend"))),k.x=k.y=0;e.Hl();e.ba&&(e.ba.style.cursor= e.K.ff?"pointer":"")};z.V(this.ba,"mousedown",this.Zr);z.V(this.ba,"touchstart",this.Zr)}}});z.extend(sc.prototype,{OP:function(a){return this.repeat?this.QP(a):this.PP(a)},QP:function(a){var b=this.repeat,c=[],e,f,g;if(this.eI){e=Math.floor(1/this.repeat)+1;for(f=0;f<e;f++)c.push(Ng(a,1-b*f,p))}else{g=a.Ni[a.Ni.length-1];e=Math.floor(g/b)+1;for(f=0;f<e;f++)c.push(Ng(a,g-f*b,t))}return c},PP:function(a){return[Ng(a,this.Rj,this.dI)]},hide:function(){if(this.Vc&&0<this.Vc.length)for(var a=this.Vc.length-1;0<=a;a--)this.Vc[a].$()},show:function(){if(this.Vc&&0<this.Vc.length)for(var a=this.Vc.length- 1;0<=a;a--)this.Vc[a].show()}});function Ng(a,b,c){var e=a.la;if(c){if(0>=b)return{point:e[0],index:1};if(1<=b)return{point:e[e.length-1],index:e.length-1};c=a.lS*b;b=Og(c,a.Cl);a=(c-a.Cl[b-1])/(a.Cl[b]-a.Cl[b-1])}else{c=b;b=a.Ni[a.Ni.length-1];if(0>=c)return{point:e[0],index:1};if(c>=b)return{point:e[e.length-1],index:e.length-1};b=Og(c,a.Ni);a=(c-a.Ni[b-1])/(a.Ni[b]-a.Ni[b-1])}c=e[b-1];e=e[b];return{point:new J(c.lng+(e.lng-c.lng)*a,c.lat+(e.lat-c.lat)*a),index:b}} z.mc.indexOf=function(a,b,c){var e=a.length,c=c|0;for(0>c&&(c=Math.max(0,e+c));c<e;c++)if(c in a&&a[c]===b)return c;return-1};function Og(a,b){var c=Pg(b.concat(a));return z.mc.indexOf(c,a)}function Pg(a){if(2>a.length)return a;for(var b=Math.floor(a.length/2),c=a.slice(0,b),a=a.slice(b),c=Pg(c),a=Pg(a),b=[];0<c.length&&0<a.length;)c[0]>a[0]?b.push(a.shift()):b.push(c.shift());return b.concat(c).concat(a)};z.extend(oc.prototype,{initialize:function(a){a&&this.Qu&&a.addEventListener("onmousemove",this.Qu);a=ib.prototype.initialize.call(this,a);this.K.jf===p&&(this.ek(),this.Ll());return a},yj:function(){this.ba=(this.vn=Qg.os(this.map)).eo()},Zc:x("ba"),ga:function(){function a(a,b){var c=a.srcElement||a.target,i=Fb(),k=a.pageX?a.pageX:a.clientX+i[1],i=a.pageY?a.pageY:a.clientY+i[0];if(a&&b&&k&&i&&c){var c=z.lang.Oc(c.ea).map,m=z.U.ka(c.Ya);b.ob=new R(k-m.left,i-m.top);b.point=c.Ib(b.ob);b.pixel=b.ob; b.point=b.point}return b}var b=this.ba,c=this;"canvas"!==Qg.os(this.map).Oo()&&!I()&&(c.K.ff&&(b.style.cursor="pointer",z.V(b,"click",function(b){c.MH&&c.MH.Yb(c.map.Db())&&c.dispatchEvent(a(b,ma(new Q("onclick"),b)))}),z.V(b,"dblclick",function(b){c.dispatchEvent(a(b,ma(new Q("ondblclick"),b)))}),(!z.fa.Se||4>z.fa.Se)&&z.V(this.ba,"contextmenu",function(b){c.dispatchEvent(a(b,ma(new Q("onrightclick"),b)))})),z.V(b,"mousedown",function(b){c.dispatchEvent(a(b,ma(new Q("onmousedown"),b)));c.MH=c.map.Db()}), z.V(b,"mouseup",function(b){c.dispatchEvent(a(b,ma(new Q("onmouseup"),b)))}),z.V(this.ba,"mouseup",function(b){c.dispatchEvent(a(b,ma(new Q("onmouseup"),b)));z.fa.Se>=4&&(b.button===2&&c.K.ff)&&c.dispatchEvent(a(b,ma(new Q("onrightclick"),b)))}));b=q;this.Ci||(this.Ci=p,this.Qu=function(a){if(c.map&&!c.map.aa.Eu){var b=c.KR(a.point),g=parseFloat(b.Fa),i;if(g<c.K.sM){i=c.Ua.px?new Q("onmousemove"):new Q("onmouseover");c.Ua.QL=t;c.Ua.px=p}else if(!c.Ua.QL&&c.Ua.px){i=new Q("onmouseout");c.Ua.px=t;c.Ua.QL= p}if(i){if(!(c instanceof Gc)&&i.type==="onmousemove"&&c.Ua.px===p&&(g===0||g>c.K.sM)){i.pixel=i.ob=a.ob;i.point=i.point=a.point}else{i.point=i.point=this.PM(b.ob);i.pixel=i.ob=this.Tb(i.point)}c.dispatchEvent(i)}}},this.map.addEventListener("onmousemove",this.Qu),this.addEventListener("mouseover",u()),this.addEventListener("mouseout",u()))},draw:function(a){if(this.ba&&this.vn){var b;if(this.K.IW){this.QC=[];b=q;for(var c=0;c<this.la.length-1;c++){var e=this.PU(this.la[c],this.la[c+1],b);b=e[e.length- 1]&&e[e.length-1].Ws;this.QC=this.QC.concat(e)}b=this.tR(this.QC)}else b=this.Ju(this.la);"canvas"===this.vn.Nb&&this.qv?(this.qv(),this.vn.ke(this.ba,b,this.K)):this.vn.ke(this.ba,b);this instanceof Gc&&this.K.bi&&this.NQ(a)}},lb:function(){this.map&&(this.initialize(this.map),this.ba.style.WebkitUserSelect="none",this.draw())},Ju:function(a){var b=this.map,c=[],e=b.ue(),f=this.ue();if(!e.Js(f)||0===a.length||!this.ba||!this.Pc())return[c];this.K.jf||(e=this.gm(b.ja()),this.df[e]?a=this.df[e]:(a= Rg(a,this.rk(b.ja())),a=this.df[e]=a));e=this.K.p0;c.push(b.Xe(a[0],q,e));for(var g=f=1,i=a.length;f<i;f++){var k=b.Xe(a[f],q,e);k.Yb(c[g-1])||(c.push(k),g++)}return[c]},gm:function(a){return this.K.gm?this.K.gm(a):6>a?0:10>a?1:15>a?2:3},rk:function(a){return this.K.rk?this.K.rk(a):oc.nE[this.gm(a)]},ir:function(a){this.df.length=0;a=oc.Mw(a);this.Wn=a.slice(0,a.length-1);this.la=a.slice(0);this.uh();this.draw();this.dispatchEvent(new Q("onlineupdate"))},PU:function(a,b,c){var e=[];e.push({point:a, Ws:c||S.hb(a)});var f=c||S.hb(a);if(a.Yb(b)||25E4>S.pk(a,b)){var c=S.hb(b),g=Lg(c,f);30037726<g&&(c.lng=c.lng<f.lng?c.lng+qb:c.lng-qb);c&&e.pop();e.push({point:b,Ws:c});return e}for(var g=S.ve(U(a.lng),U(a.lat),U(b.lng),U(b.lat)),c=Math.round(g/15E4),i=this.zJ(a,b),k=0;k<c;k++){var m=this.AJ(a,b,k/c,i),n=S.hb(m),g=Lg(n,f);30037726<g&&(n.lng=n.lng<f.lng?n.lng+qb:n.lng-qb);e.push({point:m,Ws:n});f=n}c=S.hb(b);g=Lg(c,f);30037726<g&&(c.lng=c.lng<f.lng?c.lng+qb:c.lng-qb);e.push({point:b,Ws:c});return e}, ke:function(a){this.ir(a);this.K.jf===p&&(this.ek(),this.Ll())},Km:function(a,b){b&&this.la[a]&&(this.df.length=0,this.la[a]=new J(b.lng,b.lat),this.uh(),this.K.jf===p&&(this.ek(),this.Ll()),this.draw(),this.dispatchEvent(new Q("onlineupdate")))},setStrokeColor:function(a){this.K&&(this.K.strokeColor=a);this.El("strokecolor",a)},up:function(a){0<a&&(this.K.qc=a,this.El("strokeweight",a),"dashed"===this.aL()&&(this.map&&"svg"===Qg.os(this.map).Oo())&&this.El("strokestyle","dashed"))},rp:function(a){a=== l||(1<a||0>a)||(this.K.ud=a,this.map&&this.El("strokeopacity",a))},ut:function(a){1<a||0>a||(this.K.qg=a,this.El("fillopacity",a))},sp:function(a){"solid"!==a&&"dashed"!==a||(this.K.strokeStyle=a,this.El("strokestyle",a))},setFillColor:function(a){this.K.fillColor=a||"";this.El("fillcolor",a)},El:function(a,b){this.vn&&(this.vn.setAttribute(this.ba,a,b||"",this.bL()),this.dispatchEvent(new Q("onlineupdate")))},Ll:function(){var a=this;if(!a.rc.length)for(var b=this.jL(),c=function(b){a.fv(b)},e=u(), f=function(b){a.xA(b)},g=0,i=b.length;g<i;g++){var k=b[g],m=new Mg(k.zb,k.ra);m.addEventListener("ondragging",c);m.addEventListener("ondragstart",e);m.addEventListener("ondragend",f);m.index=g;m.ra=k.ra;this.rc.push(m);this.map.Pa(m)}},ek:function(){for(var a;a=this.rc.pop();)this.map.Ub(a);this.rc.length=0},jL:function(){for(var a=[],b=0,c=this.la.length;b<c;b++){var e=this.la[b];a.push({zb:e,ra:0});if(b<c-1){var f=this.la[b+1],e=new J((e.lng+f.lng)/2,(e.lat+f.lat)/2);a.push({zb:e,ra:1})}}return this.Tc= a},E1:u(),xA:function(a){this.Ua.Xi&&(this.map.Ub(this.Ua.Xi),delete this.Ua.Xi);this.Ua.oi&&(this.map.Ub(this.Ua.oi),delete this.Ua.oi);this.Ua.ki&&(this.map.Ub(this.Ua.ki),delete this.Ua.ki);var b=a.point,a=a.currentTarget.index,c;if(0!==a%2){this.kz(a);this.Up(a,b,0);var e=this.Tc[a-1].zb;c=this.Tc[a+1].zb;e=this.js(e,b);c=this.js(b,c);this.Up(a,e,1);this.Up(a+2,c,1);a=Math.ceil(a/2);c=this.la.slice();a=c.splice(a,this.la.length-a);c[c.length]=b;c=c.concat(a)}else this.Tc[a].zb=b,0<=a-2&&(e=this.Tc[a- 2].zb,e=this.js(e,b),this.rc[a-1].show(),this.rc[a-1].ua(e)),a+2<this.Tc.length&&(c=this.Tc[a+2].zb,c=this.js(b,c),this.rc[a+1].show(),this.rc[a+1].ua(c)),this instanceof Fc&&this.Tc.length-1===a&&(this.kz(0),this.Up(0,b,0),this.kz(1),this.Up(1,this.js(this.Tc[0].zb,this.Tc[1].zb),1),this.rc[0].ba.style.zIndex="-10000000"),a/=2,this.la.splice(a,1,b),this instanceof Fc&&this.la.length-1===a&&this.la.splice(0,1,b),c=this.la;b=0;for(a=this.rc.length;b<a;b++)this.rc[b].index=b;this.la=c;this.ir(c)},Up:function(a, b,c){var e=this;this.Tc.splice(a,0,{zb:b,ra:c});b=new Mg(b,c);b.addEventListener("ondragging",function(a){e.fv(a)});b.addEventListener("ondragstart",u());b.addEventListener("ondragend",function(a){e.xA(a)});b.index=a;b.ra=c;this.rc.splice(a,0,b);this.map.Pa(b)},kz:function(a){this.map.Ub(this.rc[a]);this.Tc.splice(a,1);this.rc.splice(a,1)},js:function(a,b){return new J((a.lng+b.lng)/2,(a.lat+b.lat)/2)},KR:function(a){var b,c,e,f,g,i,k=[],m=this.map.Xe(a),k=this.Ju(this.la)[0],n=k.length;if(1<n){for(f= 1;f<n;f++){var o=k[f-1],s=k[f];if(o&&s){o.x!==s.x?(g=(s.y-o.y)/(s.x-o.x),g=Math.abs(g*m.x+(s.y-g*s.x)-m.y)/Math.sqrt(g*g+1)):g=Math.abs(m.x-s.x);var v=Math.pow(s.y-o.y,2)+Math.pow(s.x-o.x,2),s=Math.pow(s.y-m.y,2)+Math.pow(s.x-m.x,2),o=Math.pow(o.y-m.y,2)+Math.pow(o.x-m.x,2),w=Math.pow(g,2);s-w+o-w>v&&(g=Math.sqrt(Math.min(s,o)));if(b==q||b>g)c=Math.sqrt(o-w)/Math.sqrt(v),e=Math.sqrt(s-w)/Math.sqrt(v),b=g,i=f;b=Math.min(b,g)}}if(!(this instanceof Gc)){g=m=0;v=this.la;for(f=0;f<n;f++)m=f===n-1?0:m+ 1,v[f].lat!==v[m].lat&&((a.lat>=v[f].lat&&a.lat<v[m].lat||a.lat>=v[m].lat&&a.lat<v[f].lat)&&a.lng<(v[m].lng-v[f].lng)*(a.lat-v[f].lat)/(v[m].lat-v[f].lat)+v[f].lng)&&g++;b=Math.min(b,0<g%2?0:b)}1<c&&(c=1);1<e&&(c=0);a=k[i-1].y-k[i].y;f=k[i-1].x-(k[i-1].x-k[i].x)*c;g=k[i-1].y-a*c}return{ob:new R(f,g),Fa:b}},show:function(){ib.prototype.show.call(this);this.draw();this.K.jf===p&&this.Ll()},$:function(){ib.prototype.$.call(this);this.K.jf===p&&this.ek()},remove:function(){mc.prototype.remove.call(this); this.K.jf===p&&this.ek()}});function Sg(a,b){var c={top:0,bottom:0,right:0,left:0,all:0},e=a.x,f=a.y;f<b.Tf?(c.top=8,c.all+=c.top):f>b.ii&&(c.bottom=4,c.all+=c.bottom);e>b.hi?(c.right=2,c.all+=c.right):e<b.Sf&&(c.left=1,c.all+=c.left);return c} function Rg(a,b){if(1>=a.length)return a;var c=a,e=b!==l?b*b:1,f=c.length,g=new ("undefined"!==typeof Uint8Array?Uint8Array:Array)(f),i=0,k=f-1,m=[],n=[],o,s,v,w;for(g[i]=g[k]=1;k;){s=0;for(o=i+1;o<k;o++){v=c[o];var y=c[i],A=c[k],B=y.lng,y=y.lat,C=A.lng-B,F=A.lat-y;if(0!==C||0!==F){var E=((v.lng-B)*C+(v.lat-y)*F)/(C*C+F*F);1<E?(B=A.lng,y=A.lat):0<E&&(B+=C*E,y+=F*E)}C=v.lng-B;F=v.lat-y;v=C*C+F*F;v>s&&(w=o,s=v)}s>e&&(g[w]=1,m.push(i,w,w,k));k=m.pop();i=m.pop()}for(o=0;o<f;o++)g[o]&&n.push(c[o]);return n} V(Mf,{show:Mf.show,hide:Mf.$,remove:Mf.remove,setPath:Mf.ke,setPositionAt:Mf.Km,setStrokeColor:Mf.setStrokeColor,setStrokeWeight:Mf.up,setStrokeOpacity:Mf.rp,setFillOpacity:Mf.ut,setStrokeStyle:Mf.sp,setFillColor:Mf.setFillColor,getDom:Mf.Zc});z.extend(Gc.prototype,{initialize:function(a){oc.prototype.initialize.call(this,a);this.qI=[0];this.gr=[0];this.Cl=[0];for(var a=1,b=this.la,c=b.length;a<c;a++){this.qI[a]=S.pk(b[a],b[a-1]);var e=S.hb(b[a-1]),f=S.hb(b[a]);this.gr[a]=90-180*Math.atan2(f.lat-e.lat,f.lng-e.lng)/Math.PI;this.Cl[a]=this.Cl[a-1]+this.qI[a]}this.lS=this.Cl[c-1];this.qv();this.pv={};return this.ba},qv:function(){this.setFillColor("");this.setStrokeColor(this.K.strokeColor);this.up(this.K.qc);this.sp(this.K.strokeStyle);this.rp(this.K.ud)}, tR:function(a){if(!a)return[];for(var b=this.map,c=[],e=0;e<a.length;e++)c.push(b.MY(a[e].Ws));return[c].concat(this.vP(c,b.ja(),p))},vP:function(a,b,c){for(var e=this.map,b=b||e.ja(),f=[],g=[],b=c?e.vF(b):qb,c=0;c<a.length;c++)f.push(new R(a[c].x-b,a[c].y)),g.push(new R(a[c].x+b,a[c].y));return[f,g]},Ju:function(a){var b=this.map,c=[],e=b.ue(),f=this.ue();if(!e.Js(f)||0==a.length||!this.ba||!this.Pc())return[c];!(I()&&5E3<a.length)&&!this.K.jf&&(e=this.gm(b.ja()),this.df[e]?a=this.df[e]:(f=Rg(a, this.rk(b.ja())),a=this.df[e]=f));c.push(b.Xe(a[0]));for(var g=e=1,f=a.length;e<f;e++){var i=b.Xe(a[e]);i.Yb(c[g-1])||(c.push(i),g++)}a=[];e=b.offsetX;f=b.offsetY;g=b.R.Bw;b={Sf:-e-g,Tf:-f-g,hi:-e+g+b.width,ii:-f+g+b.height};e=0;for(f=c.length-1;e<f;e++){var k=c[e],m=c[e+1],g=b,n=i=t,o=t,k=new R(k.x,k.y),m=new R(m.x,m.y),s=Sg(k,g),v=Sg(m,g),w=l,y=l,A=l,B=g.Sf,C=g.Tf,F=g.hi,E=g.ii;do 0===s.all&&0===v.all?o=i=p:0!==(s.all&v.all)?o=p:(w=0!==s.all?s:v,w.top?(y=k.x+(m.x-k.x)*(C-k.y)/(m.y-k.y),A=C):w.bottom? (y=k.x+(m.x-k.x)*(E-k.y)/(m.y-k.y),A=E):w.right?(A=k.y+(m.y-k.y)*(F-k.x)/(m.x-k.x),y=F):w.left&&(A=k.y+(m.y-k.y)*(B-k.x)/(m.x-k.x),y=B),n=p,w.all===s.all)?(k.x=Math.round(y),k.y=Math.round(A),s=Sg(k,g)):(m.x=Math.round(y),m.y=Math.round(A),v=Sg(m,g));while(!o);g=i?{UM:new R(k.x,k.y),VM:new R(m.x,m.y),clip:n?p:t}:l;g&&a.push(g)}c=[[]];e=0;for(f=a.length;e<f;e++)a[e].clip?(c[c.length-1].push(a[e].UM),c[c.length-1].push(a[e].VM),a[e+1]&&a[e+1].clip&&c.push([])):(c[c.length-1].push(a[e].UM),e==a.length- 1&&c[c.length-1].push(a[e].VM));return c},hide:function(){oc.prototype.$.call(this);if(this.K.bi&&0<this.K.bi.length)for(var a=0,b=this.K.bi.length;a<b;a++)this.K.bi[a].hide()},show:function(){oc.prototype.show.call(this);if(this.K.bi&&0<this.K.bi.length)for(var a=0,b=this.K.bi.length;a<b;a++)this.K.bi[a].show()},NQ:function(a){var b=this.Pw(),c=b.ja(),e=b.ue();icons=this.K.bi;displayPixels=oc.prototype.Ju.call(this,this.la);if(this.pv[c]&&0<this.pv[c].length)this.Ni=this.pv[c];else{for(var f=[0], g=1,i=displayPixels[0],k=i.length;g<k;g++)f[g]=f[g-1]+Gb(i[g],i[g-1]);this.Ni=this.pv[c]=f}for(g=0;g<icons.length;g++){var f=icons[g],i=f.N_,m,n;f.jv[c]&&0<f.jv[c].length?n=f.jv[c]:f.jv[c]=n=f.OP(this);if(1===n.length)e.Gr(n[0].point)&&(f.Vc[0]&&(b.Ub(f.Vc[0]),f.Vc[0].remove()),f.xK||(7===i.Nb||5===i.Nb?i.qp(-180+this.gr[n[0].index]):i.qp(this.gr[n[0].index])),f.Vc[0]=new W(n[0].point,{icon:i}),b.Pa(f.Vc[0]));else if(1<n.length){var o=[],s,v={};if(a&&"onzoomend"===a.type){for(var w in f.Vc)b.Ub(f.Vc[w]), f.Vc[w].remove();f.Vc=[]}else z.mc.Ob(f.Vc,function(a){e.Gr(a.ka())?(s=""+a.ka().lat+(""+a.ka().lng),v[s]=p,o.push(a)):(b.Ub(a),a.remove())}),f.Vc=o;for(w=0;w<n.length;w++){m=n[w].index;var k=n[w].point,y=""+k.lat+(""+k.lng);e.Gr(k)&&!v[y]&&(f.xK||(7===i.Nb||5===i.Nb?i.setRotation(-180+this.gr[m]):i.setRotation(this.gr[m])),k=new W(k,{icon:i}),f.Vc.push(k),b.Pa(k))}}}},fv:function(a){var b=a.currentTarget,c=a.point,e=b.index,f=this.Tc,g,i=a=q;if(0==e){var k=f[e+2].zb;g=[c,k];a=new J((k.lng+c.lng)/ 2,(k.lat+c.lat)/2);this.rc[e+1]&&this.rc[e+1].$()}else if(e==f.length-1){var m=f[e-2].zb;g=[m,c];a=new J((m.lng+c.lng)/2,(m.lat+c.lat)/2);this.rc[e-1]&&this.rc[e-1].$()}else m=f[e-1].zb,k=f[e+1].zb,g=[m,c,k],b.ra||(m=f[e-2].zb,k=f[e+2].zb,g=[m,c,k],a=new J((m.lng+c.lng)/2,(m.lat+c.lat)/2),i=new J((k.lng+c.lng)/2,(k.lat+c.lat)/2),this.rc[e-1]&&this.rc[e-1].$(),this.rc[e+1]&&this.rc[e+1].$());this.Ua.Xi?(this.Ua.Xi.ke(g),this.Ua.Xi.show()):(b=new Gc(g,{strokeStyle:"dashed",strokeColor:this.K.strokeColor, qc:this.K.qc,ud:this.K.ud}),this.map.Pa(b),b.$(),this.Ua.Xi=b);!this.Ua.oi&&a?(this.Ua.oi=new Mg(a,1),this.map.Pa(this.Ua.oi)):a&&this.Ua.oi.ua(a);!this.Ua.ki&&i?(this.Ua.ki=new Mg(i,1),this.map.Pa(this.Ua.ki)):i&&this.Ua.ki.ua(i)}});z.mc.remove=function(a,b){for(var c=a.length;c--;)a[c]===b&&a.splice(c,1);return a};z.extend(Fc.prototype,{initialize:function(a){oc.prototype.initialize.call(this,a);this.setStrokeColor(this.K.strokeColor);this.up(this.K.qc);this.sp(this.K.strokeStyle);this.setFillColor(this.K.fillColor);this.rp(this.K.ud);this.ut(this.K.qg);return this.ba},Km:function(a,b){this.Wn[a]&&(this.df.length=0,this.Wn[a]=new J(b.lng,b.lat),this.la[a]=new J(b.lng,b.lat),0==a&&!this.la[0].Yb(this.la[this.la.length-1])&&(this.la[this.la.length-1]=new J(b.lng,b.lat)),this.uh(),this.K.jf==p&&(this.ek(),this.Ll()), this.draw(),this.dispatchEvent(new Q("onlineupdate")))},qv:function(){this.setStrokeColor(this.K.strokeColor);this.up(this.K.qc);this.sp(this.K.strokeStyle);this.setFillColor(this.K.fillColor);this.rp(this.K.ud);this.ut(this.K.qg)},containPoint:function(a){var b=this.la,c=t;if(!(!a instanceof J)){if(this.qu.Gr(a)){for(var e=a.lat,a=a.lng,f=0,g=b.length-1;f<b.length;g=f++){var i=b[f].lat,k=b[f].lng,m=b[g].lat,g=b[g].lng;k>a!=g>a&&e<(m-i)*(a-k)/(g-k)+i&&(c=!c)}return c}return t}},fv:function(a){var b= a.currentTarget,c=a.point,e=b.index,f=this.Tc,g,i=a=q;if(0==e){var k=f[f.length-2].zb,m=f[e+2].zb;g=[k,c,m];b.ra||(a=new J((k.lng+c.lng)/2,(k.lat+c.lat)/2),i=new J((m.lng+c.lng)/2,(m.lat+c.lat)/2))}else e==f.length-1?(m=f[2].zb,k=f[e-2].zb,g=[k,c,m],b.ra||(a=new J((k.lng+c.lng)/2,(k.lat+c.lat)/2),i=new J((m.lng+c.lng)/2,(m.lat+c.lat)/2))):(k=f[e-1].zb,m=f[e+1].zb,g=[k,c,m],b.ra||(k=f[e-2].zb,m=f[e+2].zb,g=[k,c,m],a=new J((k.lng+c.lng)/2,(k.lat+c.lat)/2),i=new J((m.lng+c.lng)/2,(m.lat+c.lat)/2),this.rc[e- 1]&&this.rc[e-1].$(),this.rc[e+1]&&this.rc[e+1].$()));this.Ua.Xi?this.Ua.Xi.ke(g):(b=new Gc(g,{strokeStyle:"dashed",strokeColor:this.K.strokeColor,qc:this.K.qc,ud:this.K.ud}),this.map.Pa(b),this.Ua.Xi=b);!this.Ua.oi&&a?(this.Ua.oi=new Mg(a,1),this.map.Pa(this.Ua.oi)):a&&this.Ua.oi.ua(a);!this.Ua.ki&&i?(this.Ua.ki=new Mg(i,1),this.map.Pa(this.Ua.ki)):i&&this.Ua.ki.ua(i)}});V(Of,{setPositionAt:Of.Km});z.extend(Hc.prototype,{initialize:function(a){Fc.prototype.initialize.call(this,a);this.la=this.Lu(this.point,this.Ca);this.uh();return this.ba},rf:function(a,b){a&&(this.df.length=0,b||(this.Tc=q),this.point=a,this.la=this.Lu(a,this.Ca),this.uh(),this.draw(),this.dispatchEvent(new Q("onlineupdate")))},sf:function(a,b){isNaN(a)||(this.df.length=0,b||(this.Tc=q),this.Ca=Math.abs(a),this.la=this.Lu(this.point,this.Ca),this.uh(),this.draw(),this.dispatchEvent(new Q("onlineupdate")))},rk:function(a){return this.K.rk? this.K.rk(a):Hc.nE[this.gm(a)]},fv:function(a){var b,a=a.currentTarget,c=this.Tc;b=c[0].zb;c=c[c.length-1].zb;0==a.index?(b=a.ka(),a=c):a=a.ka();this.sf(S.pk(b,a),p);this.rf(b,p)},xA:function(a){var a=a.currentTarget,b=a.index;this.Tc[0]={zb:this.point,ra:0};1==b&&(this.Tc[1]={zb:a.point,ra:0});this.ek();this.Ll()},jL:function(){if(!this.Tc){var a=[];a.push({zb:this.point,ra:0});a.push({zb:this.la[Math.floor(3*this.la.length/4)],ra:0});this.Tc=a}return this.Tc}});V(Nf,{setCenter:Nf.rf,setRadius:Nf.sf});var Qg={os:function(a){Qg["_"+a.ea]||(Qg["_"+a.ea]={});switch(a.R.mK){case 1:return Qg.cL(a);case 2:return Qg.kL(a);case 3:return Qg.$C(a)}if(I()&&Qg.LL()&&4!==a.R.mK)return Qg.$C(a);if(Qg.wY())return Qg.cL(a);if(Qg.xY())return Qg.kL(a);if(Qg.LL())return Qg.$C(a)},cL:function(a){Qg["_"+a.ea].II||(Qg["_"+a.ea].II=new D.lP(a));return Qg["_"+a.ea].II},kL:function(a){Qg["_"+a.ea].VI||(Qg["_"+a.ea].VI=new D.oP(a));return Qg["_"+a.ea].VI},$C:function(a){Qg["_"+a.ea].xG||(Qg["_"+a.ea].xG=new D.LO(a));return Qg["_"+ a.ea].xG},xY:function(){if(Ib(Qg.VN))return Qg.VN;var a=Nb();return Qg.VN=a},wY:function(){Ib(Qg.UN)||(Qg.UN=Ob());return Qg.UN},LL:function(){Ib(Qg.TN)||(Qg.TN=Pb());return Qg.TN}};D.Jp=Qg; ');